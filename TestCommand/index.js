(function(p,f){"use strict";function y(e,n,r){if(!e?.name||!e?.description)throw new Error(`No name(${e?.name}) or description(${e?.description}) in the passed command (command name: ${e?.name})`);if(e.displayName??=n?.names?.[r]??e.name,e.displayDescription??=n?.names?.[r]??e.description,e.options){if(!Array.isArray(e.options))throw new Error(`Options is not an array (received: ${typeof e.options})`);for(var o=0;o<e.options.length;o++){const t=e.options[o];if(!t?.name||!t?.description)throw new Error(`No name(${t?.name}) or description(${t?.description} in the option with index ${o}`);if(t.displayName??=n?.options?.[o]?.names?.[r]??t.name,t.displayDescription??=n?.options?.[o]?.descriptions?.[r]??t.description,t?.choices){if(!Array.isArray(t?.choices))throw new Error(`Choices is not an array (received: ${typeof t.choices})`);for(var i=0;i<t.choices.length;i++){const s=t.choices[i];if(!s?.name)throw new Error(`No name of choice with index ${i} in option with index ${o}`);s.displayName??=n?.options?.[o]?.choices?.[i]?.names?.[r]??s.name}}}}return e}function w(e){const{metro:{findByProps:n,findByStoreName:r,common:{lodash:{merge:o}}}}=e,{sendMessage:i,receiveMessage:t}=n("sendMessage","receiveMessage"),{createBotMessage:s}=n("createBotMessage"),h=n("BOT_AVATARS"),{getChannelId:l}=r("SelectedChannelStore");return function(d,c){if(d.channelId??=l(),[null,void 0].includes(d.channelId))throw new Error("No channel id to receive the message into (channelId)");let a=d;return d.reallySend?(typeof c=="object"&&(a=o(a,c)),i(d.channelId,a)):(c!==!0&&(a=s(a)),typeof c=="object"&&(a=o(a,c),"author"in c&&function(){const m=c.author;["avatar","avatarURL"].every(function($){return $ in m})&&(h.BOT_AVATARS[m.avatar]=m.avatarURL,delete m.avatarURL)}()),t(a.channel_id,a),a)}}let u;function g(){return window.sendMessage?window.sendMessage?.(...arguments):(u||(u=w(vendetta)),u(...arguments))}function v(e){return new Proxy(e,{get(n,r){return console.log(`Accessed ${r}`),n[r]}})}var A={meta:vendetta.plugin,patches:[],onUnload(){this.patches.forEach(function(e){return e()}),this.patches=[]},onLoad(){var e=this;try{[y({execute:async function(n,r){if(r.autocomplete){const o=[{name:"meow",displayName:"meow",value:"mrrp"}];return console.log(r.autocomplete),new Promise(function(i,t){return i(new Promise(function(s,h){return s(new Promise(function(l,d){return l(v({choices:o}))}))}))})}g({content:n.find(function(o){return o.name==="text-area"}).value})},type:1,inputType:1,applicationId:"-1",name:"!test",description:"test",options:[{required:!0,autocomplete:!0,type:3,name:"text-area",description:"Token of the account to login into"}]})].forEach(function(n){return e.patches.push(f.registerCommand(n))})}catch(n){console.error(n),console.log(n.stack),alert(`There was an error while loading TestCommand
`+n.stack)}}};return p.default=A,Object.defineProperty(p,"__esModule",{value:!0}),p})({},vendetta.commands);
