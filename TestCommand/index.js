(function(c,m){"use strict";function p(e,n,a){if(!e.name||!e?.description)throw new Error(`No name(${e?.name}) or description(${e?.description}) in the passed command (command name: ${e?.name})`);if(e.displayName??=n?.names?.[a]??e.name,e.displayDescription??=n?.names?.[a]??e.description,e.options){if(!Array.isArray(e.options))throw new Error(`Options is not an array (received: ${typeof e.options})`);for(var r=0;r<e.options.length;r++){const o=e.options[r];if(!o?.name||!o?.description)throw new Error(`No name(${o?.name}) or description(${o?.description} in the option with index ${r}`);if(o.displayName??=n?.options?.[r]?.names?.[a]??o.name,o.displayDescription??=n?.options?.[r]?.descriptions?.[a]??o.description,o?.choices){if(!Array.isArray(o?.choices))throw new Error(`Choices is not an array (received: ${typeof o.choices})`);for(var i=0;i<o.choices.length;i++){const t=o.choices[i];if(!t?.name)throw new Error(`No name of choice with index ${i} in option with index ${r}`);t.displayName??=n?.options?.[r]?.choices?.[i]?.names?.[a]??t.name}}}}return e}function u(e){const{metro:n}=e,{receiveMessage:a}=n.findByProps("sendMessage","receiveMessage"),{createBotMessage:r}=n.findByProps("createBotMessage"),i=n.findByProps("BOT_AVATARS");return function(o,t){if(o.channelId??=n.findByStoreName("SelectedChannelStore").getChannelId(),[null,void 0].includes(o.channelId))throw new Error("No channel id to receive the message into (channelId)");t!==void 0&&"author"in t&&"avatar"in t.author&&"avatarURL"in t.author&&(i.BOT_AVATARS[t.author.avatar]=t.author.avatarURL,delete t.author.avatarURL);let s=t===!0?o:r(o);return typeof t=="object"&&(s=e.metro.findByProps("merge").merge(s,t)),a(o.channelId,s),s}}let d;function h(){return window.sendMessage?window.sendMessage?.(...arguments):(d||(d=u(vendetta)),d(...arguments))}function l(e){return new Proxy(e,{get(n,a){return console.log(`Accessed ${a}`),n[a]}})}var f={meta:vendetta.plugin,patches:[],onUnload(){this.patches.forEach(function(e){return e()}),this.patches=[]},onLoad(){var e=this;try{[p({execute:async function(n,a){if(a.autocomplete){const r=[{name:"meow",displayName:"meow",value:"mrrp"}];return console.log(a.autocomplete),new Promise(function(i,o){return i(new Promise(function(t,s){return t(new Promise(function(y,w){return y(l({choices:r}))}))}))})}h({content:n.find(function(r){return r.name==="text-area"}).value})},type:1,inputType:1,applicationId:"-1",name:"!test",description:"test",options:[{required:!0,autocomplete:!0,type:3,name:"text-area",description:"Token of the account to login into"}]})].forEach(function(n){return e.patches.push(m.registerCommand(n))})}catch(n){console.error(n),console.log(n.stack),alert(`There was an error while loading TestCommand
`+n.stack)}}};return c.default=f,Object.defineProperty(c,"__esModule",{value:!0}),c})({},vendetta.commands);
