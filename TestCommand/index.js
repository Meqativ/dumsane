(function(u,w){"use strict";function y(e){const{metro:{findByProps:n,findByStoreName:i,common:{lodash:{merge:o}}}}=e,a=n("_sendMessage"),{createBotMessage:t}=n("createBotMessage"),d=n("BOT_AVATARS"),{getChannelId:f}=i("SelectedChannelStore");return function(m,c){if(m.channelId??=f(),[null,void 0].includes(m.channelId))throw new Error("No channel id to receive the message into (channelId)");let s=m;if(m.really){typeof c=="object"&&(s=o(s,c));const r=[s,{}];r[0].tts??=!1;for(const p of["allowedMentions","messageReference"])p in r[0]&&(r[1][p]=r[0][p],delete r[0][p]);const l="overwriteSendMessageArg2";return l in r[0]&&(r[1]=r[0][l],delete r[0][l]),a._sendMessage(m.channelId,...r)}return c!==!0&&(s=t(s)),typeof c=="object"&&(s=o(s,c),"author"in c&&function(){const r=c.author;["avatar","avatarURL"].every(function(l){return l in r})&&(d.BOT_AVATARS[r.avatar]=r.avatarURL,delete r.avatarURL)}()),a.receiveMessage(s.channel_id,s),s}}function g(e,n,i){if(!e?.name||!e?.description)throw new Error(`No name(${e?.name}) or description(${e?.description}) in the passed command (command name: ${e?.name})`);if(e.displayName??=n?.names?.[i]??e.name,e.displayDescription??=n?.names?.[i]??e.description,e.options){if(!Array.isArray(e.options))throw new Error(`Options is not an array (received: ${typeof e.options})`);for(var o=0;o<e.options.length;o++){const t=e.options[o];if(!t?.name||!t?.description)throw new Error(`No name(${t?.name}) or description(${t?.description} in the option with index ${o}`);if(t.displayName??=n?.options?.[o]?.names?.[i]??t.name,t.displayDescription??=n?.options?.[o]?.descriptions?.[i]??t.description,t?.choices){if(!Array.isArray(t?.choices))throw new Error(`Choices is not an array (received: ${typeof t.choices})`);for(var a=0;a<t.choices.length;a++){const d=t.choices[a];if(!d?.name)throw new Error(`No name of choice with index ${a} in option with index ${o}`);d.displayName??=n?.options?.[o]?.choices?.[a]?.names?.[i]??d.name}}}}return e}let h;function v(){return window.sendMessage?window.sendMessage?.(...arguments):(h||(h=y(vendetta)),h(...arguments))}function A(e){return new Proxy(e,{get(n,i){return console.log(`Accessed ${i}`),n[i]}})}var M={meta:vendetta.plugin,patches:[],onUnload(){this.patches.forEach(function(e){return e()}),this.patches=[]},onLoad(){var e=this;try{[g({execute:async function(n,i){if(i.autocomplete){const o=[{name:"meow",displayName:"meow",value:"mrrp"}];return console.log(i.autocomplete),new Promise(function(a,t){return a(new Promise(function(d,f){return d(new Promise(function(m,c){return m(A({choices:o}))}))}))})}v({content:n.find(function(o){return o.name==="text-area"}).value})},type:1,inputType:1,applicationId:"-1",name:"!test",description:"test",options:[{required:!0,autocomplete:!0,type:3,name:"text-area",description:"Token of the account to login into"}]})].forEach(function(n){return e.patches.push(w.registerCommand(n))})}catch(n){console.error(n),console.log(n.stack),alert(`There was an error while loading TestCommand
`+n.stack)}}};return u.default=M,Object.defineProperty(u,"__esModule",{value:!0}),u})({},vendetta.commands);
