(function(p){"use strict";function u(e,o,r){if(!e.name||!e?.description)throw new Error(`No name(${e?.name}) or description(${e?.description}) in the passed command. (command name: ${e?.name})`);return e.displayName=o?.names?.[r]??e.name,e.displayDescription=o?.names?.[r]??e.description,e.options&&(e.options=e.options.map(function(n,s){if(!n?.name||!n?.description)throw new Error(`No name(${n?.name}) or description(${n?.description} in the option with index ${s}`);return n.displayName=o?.options?.[s]?.names?.[r]??n.name,n.displayDescription=o?.options?.[s]?.descriptions?.[r]??n.description,n})),e}const m={loadingDiscordSpinner:":loading:1105495814073229393",aol:"a:aol:1108834296359301161",linuth:":linuth:1110531631409811547",fuckyoy:":fuckyoy:1108360628302782564",getLoading(){return Math.random()<.01?this?.aol:this.loadingDiscordSpinner},getFailure(){return Math.random()<.01?this?.fuckyoy:this.linuth},getSuccess(){return""}},l={command:"https://cdn.discordapp.com/attachments/1099116247364407337/1112129955053187203/command.png"};var g={patches:[],onUnload(){this.patches.every(function(e){return e(),!0})},onLoad(){try{let e=function(d,t){typeof t<"u"&&"author"in t&&"avatar"in t.author&&"avatarURL"in t.author&&(y.BOT_AVATARS[t.author.avatar]=t.author.avatarURL,delete t.author.avatarURL);let a=s(d);return typeof t=="object"&&(a=o.findByProps("merge").merge(a,t)),n(d.channelId,a),a};const{metro:o,commands:r}=vendetta,{receiveMessage:n}=o.findByProps("sendMessage","receiveMessage"),{createBotMessage:s}=o.findByProps("createBotMessage"),y=o.findByProps("BOT_AVATARS"),h={get(d,t){const a={author:{username:"/token get",avatar:"command",avatarURL:l.command}};try{const{getToken:i}=o.findByProps("getToken");e({channelId:t.channel.id,embeds:[{type:"rich",title:"Token of the current account",description:`${i()}`}]},a)}catch(i){console.error(i),alert(i.stack)}},async login(d,t){const a={author:{username:"/token login",avatar:"command",avatarURL:l.command}};try{const i=vendetta.metro.findByProps("login","logout","switchAccountToken").switchAccountToken,f=new Map(d.map(function(c){return[c.name,c]}));try{const c=await i(f.get("token").value);alert(JSON.stringify(c,0,4)),e({channelId:t.channel.id,embeds:[{type:"rich",title:`<${m.getLoading()}> Switching accounts\u2026`}]},a)}catch(c){e({channelId:t.channel.id,embeds:[{type:"rich",title:`<${m.getFailure()}> Invalid token (failed to add/switch to the account)`,description:`${c.message}`}]},a),console.error(c)}}catch(i){console.error(i),alert(i.stack)}}};console.log("meow 66"),this.patches.push(r.registerCommand(u({execute:h.get,name:"token get",description:"Shows your current user token",applicationId:"-1",inputType:1,type:1}))),console.log("meow 77"),this.patches.push(r.registerCommand(u({execute:h.login,name:"token login",description:"Logs into an account using a token",options:{required:!0,type:1,name:"token",description:"Token of the account to login into"},applicationId:"-1",inputType:1,type:1})))}catch(e){alert(e.stack)}}};return p.default=g,Object.defineProperty(p,"__esModule",{value:!0}),p})({});
