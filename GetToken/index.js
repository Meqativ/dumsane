(function(u){"use strict";function l(e,t,s){if(!e.name||!e?.description)throw new Error(`No name(${e?.name}) or description(${e?.description}) in the passed command (command name: ${e?.name})`);if(e.displayName=t?.names?.[s]??e.name,e.displayDescription=t?.names?.[s]??e.description,e.options){if(!Array.isArray(e.options))throw new Error(`Options is not an array (received: ${typeof e.options})`);e.options=e.options.map(function(o,c){if(!o?.name||!o?.description)throw new Error(`No name(${o?.name}) or description(${o?.description} in the option with index ${c}`);return o.displayName=t?.options?.[c]?.names?.[s]??o.name,o.displayDescription=t?.options?.[c]?.descriptions?.[s]??o.description,o})}return e}const m={loadingDiscordSpinner:"a:loading:1105495814073229393",aol:"a:aol:1108834296359301161",linuth:":linuth:1110531631409811547",fuckyoy:":fuckyoy:1108360628302782564",getLoading(){return Math.random()<.01?this?.aol:this.loadingDiscordSpinner},getFailure(){return Math.random()<.01?this?.fuckyoy:this.linuth},getSuccess(){return""}},h={author:{username:"TokenUtils",avatar:"command",avatarURL:{command:"https://cdn.discordapp.com/attachments/1099116247364407337/1112129955053187203/command.png"}.command}};var y={patches:[],onUnload(){this.patches.every(function(e){return e(),!0})},onLoad(){var e=this;try{const{metro:t,commands:s}=vendetta,{receiveMessage:o}=t.findByProps("sendMessage","receiveMessage"),{createBotMessage:c}=t.findByProps("createBotMessage"),f=t.findByProps("BOT_AVATARS"),p=function(){return window.sendMessage?window.sendMessage?.("meow",...arguments):function(i,n){typeof n<"u"&&"author"in n&&"avatar"in n.author&&"avatarURL"in n.author&&(f.BOT_AVATARS[n.author.avatar]=n.author.avatarURL,delete n.author.avatarURL);let r=c(i);return typeof n=="object"&&(r=t.findByProps("merge").merge(r,n)),o(i.channelId,r),r}(...arguments)},g={get(i,n){const r={...h,interaction:{name:"/token get",user:t.findByStoreName("UserStore").getCurrentUser()}};try{const{getToken:a}=t.findByProps("getToken");p({channelId:n.channel.id,embeds:[{type:"rich",title:"Token of the current account",description:`${a()}`}]},r)}catch(a){console.error(a),alert(`There was an error while exeCuting /token get
`+a.stack)}},login(i,n){const r={...h,interaction:{name:"/token login",user:t.findByStoreName("UserStore").getCurrentUser()}};try{const a=new Map(i.map(function(d){return[d.name,d]})).get("token").value;try{p({channelId:n.channel.id,embeds:[{type:"rich",title:`<${m.getLoading()}> Switching accounts\u2026`}]},r),vendetta.metro.findByProps("login","logout","switchAccountToken").switchAccountToken(a)}catch(d){p({channelId:n.channel.id,embeds:[{type:"rich",title:`<${m.getFailure()}> Failed to login`,description:`${d.message}`}]},r),console.error(d)}}catch(a){console.error(a),alert(`There was an error while exeCuting /token login
`+a.stack)}}};[l({execute:g.get,name:"token get",description:"Shows your current user token",applicationId:"-1",inputType:1,type:1}),l({execute:g.login,name:"token login",description:"Logs into an account using a token",options:[{required:!0,type:3,name:"token",description:"Token of the account to login into"}],applicationId:"-1",inputType:1,type:1})].forEach(function(i){return e.patches.unshift(s.registerCommand(i))})}catch(t){console.error(t),alert(`There was an error while loading TokenUtils(GetToken)
`+t.stack)}}};return u.default=y,Object.defineProperty(u,"__esModule",{value:!0}),u})({});
