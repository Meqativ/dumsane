(function(c,y,f,i){"use strict";function m(e,o,a){if(!e.name||!e?.description)throw new Error(`No name(${e?.name}) or description(${e?.description}) in the passed command (command name: ${e?.name})`);if(e.displayName=o?.names?.[a]??e.name,e.displayDescription=o?.names?.[a]??e.description,e.options){if(!Array.isArray(e.options))throw new Error(`Options is not an array (received: ${typeof e.options})`);e.options=e.options.map(function(n,t){if(!n?.name||!n?.description)throw new Error(`No name(${n?.name}) or description(${n?.description} in the option with index ${t}`);return n.displayName=o?.options?.[t]?.names?.[a]??n.name,n.displayDescription=o?.options?.[t]?.descriptions?.[a]??n.description,n})}return e}function k(e){const{metro:o}=e,{receiveMessage:a}=o.findByProps("sendMessage","receiveMessage"),{createBotMessage:n}=o.findByProps("createBotMessage"),t=o.findByProps("BOT_AVATARS");return function(s,r){typeof r<"u"&&"author"in r&&"avatar"in r.author&&"avatarURL"in r.author&&(t.BOT_AVATARS[r.author.avatar]=r.author.avatarURL,delete r.author.avatarURL);let u=n(s);return typeof r=="object"&&(u=o.findByProps("merge").merge(u,r)),a(s.channelId,u),u}}const g={loadingDiscordSpinner:"a:loading:1105495814073229393",aol:"a:aol:1108834296359301161",linuth:":linuth:1110531631409811547",fuckyoy:":fuckyoy:1108360628302782564",getLoading(){return Math.random()<.01?this?.aol:this.loadingDiscordSpinner},getFailure(){return Math.random()<.01?this?.fuckyoy:this.linuth},getSuccess(){return""}},w={command:"https://cdn.discordapp.com/attachments/1099116247364407337/1112129955053187203/command.png"},{meta:{resolveSemanticColor:v}}=i.findByProps("colors","meta"),T=i.findByStoreName("ThemeStore"),d=function(){return v(T.theme,y.semanticColors.BACKGROUND_SECONDARY)},l={author:{username:"TokenUtils",avatar:"command",avatarURL:w.command}};let p;function h(){return window.sendMessage?window.sendMessage?.(...arguments):(p||(p=k(vendetta)),p(...arguments))}var S={patches:[],onUnload(){this.patches.forEach(function(e){return e()})},onLoad(){var e=this;try{const o={get(a,n){try{const t={...l,interaction:{name:"/token get",user:i.findByStoreName("UserStore").getCurrentUser()}},{getToken:s}=i.findByProps("getToken");h({channelId:n.channel.id,embeds:[{color:d(),type:"rich",title:"Token of the current account",description:`${s()}`}]},t)}catch(t){console.error(t),alert(`There was an error while exeCuting /token get
`+t.stack)}},login(a,n){try{const t={...l,interaction:{name:"/token login",user:i.findByStoreName("UserStore").getCurrentUser()}},s=new Map(a.map(function(r){return[r.name,r]})).get("token").value;try{h({channelId:n.channel.id,embeds:[{color:d(),type:"rich",title:`<${g.getLoading()}> Switching accounts\u2026`}]},t),i.findByProps("login","logout","switchAccountToken").switchAccountToken(s)}catch(r){console.error(r),h({channelId:n.channel.id,embeds:[{color:d(),type:"rich",title:`<${g.getFailure()}> Failed to switch accounts`,description:`${r.message}`}]},t)}}catch(t){console.error(t),alert(`There was an error while executing /token login
`+t.stack)}}};[m({type:1,inputType:1,applicationId:"-1",execute:o.get,name:"token get",description:"Shows your current user token"}),m({type:1,inputType:1,applicationId:"-1",execute:o.login,name:"token login",description:"Logs into an account using a token",options:[{required:!0,type:3,name:"token",description:"Token of the account to login into"}]})].forEach(function(a){return e.patches.unshift(f.registerCommand(a))})}catch(o){console.error(o),alert(`There was an error while loading TokenUtils
`+o.stack)}}};return c.EMBED_COLOR=d,c.authorMods=l,c.default=S,Object.defineProperty(c,"__esModule",{value:!0}),c})({},vendetta.ui,vendetta.commands,vendetta.metro);
