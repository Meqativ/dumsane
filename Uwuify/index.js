(function(){"use strict";function b(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function v(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function x(t,r,e){return r&&v(t.prototype,r),e&&v(t,e),t}let p=function(){function t(r){b(this,t),Object.defineProperty(this,"seeder",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.seeder=this.xmur3(r)}return x(t,[{key:"random",value:function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(r>e)throw new Error("The minimum value must be below the maximum value");if(r===e)throw new Error("The minimum value cannot equal the maximum value");return this.denormalize(this.sfc32(),r,e)}},{key:"randomInt",value:function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Math.round(this.random(r,e))}},{key:"denormalize",value:function(r,e,n){return r*(n-e)+e}},{key:"xmur3",value:function(r){let e=1779033703^r.length;for(let n=0;n<r.length;n++)e=Math.imul(e^r.charCodeAt(n),3432918353),e=e<<13|e>>>19;return function(){return e=Math.imul(e^e>>>16,2246822507),e=Math.imul(e^e>>>13,3266489909),(e^=e>>>16)>>>0}}},{key:"sfc32",value:function(){let r=this.seeder(),e=this.seeder(),n=this.seeder(),a=this.seeder();r>>>=0,e>>>=0,n>>>=0,a>>>=0;let i=r+e|0;return r=e^e>>>9,e=n+(n<<3)|0,n=n<<21|n>>>11,a=a+1|0,i=i+a|0,n=n+i|0,(i>>>0)/4294967296}}]),t}();function A(t){return/^\p{L}/u.test(t)}function C(t){return t===t.toUpperCase()}function P(t){let r=0,e=0;for(const n of t)A(n)&&(C(n)&&e++,r++);return e/r}function g(){return function(t,r){let e=t[r],n=0;Object.defineProperty(t,r,{get:function(){return e},set:function(a){if(typeof a=="object"&&(n=Object.values(a).reduce(function(i,o){return i+o})),a<0||n<0||a>1||n>1)throw new Error(`${r} modifier value must be a number between 0 and 1`);e=a},enumerable:!0,configurable:!0})}}function M(t){if(!t||/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(t)||/%[^0-9a-f]/i.test(t)||/%[0-9a-f](:?[^0-9a-f]|$)/i.test(t))return!1;const r=t.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);if(!r)return!1;const[,e,n,a]=r;if(!(e&&e.length&&a.length>=0))return!1;if(n&&n.length){if(!(a.length===0||/^\//.test(a)))return!1}else if(/^\/\//.test(a))return!1;return!!/^[a-z][a-z0-9\+\-\.]*$/.test(e.toLowerCase())}function _(t){return t.charAt(0)==="@"}var w=function(t,r,e,n){var a=arguments.length,i=a<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,e):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,r,e,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(r,e,i):o(r,e))||i);return a>3&&i&&Object.defineProperty(r,e,i),i};const u={SPACES:{faces:.05,actions:.075,stutters:.1},WORDS:1,EXCLAMATIONS:1};let l=function(){function t(){let{spaces:r=u.SPACES,words:e=u.WORDS,exclamations:n=u.EXCLAMATIONS}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{spaces:u.SPACES,words:u.WORDS,exclamations:u.EXCLAMATIONS};b(this,t),Object.defineProperty(this,"faces",{enumerable:!0,configurable:!0,writable:!0,value:["(\u30FB`\u03C9\xB4\u30FB)",";;w;;","OwO","UwU",">w<","^w^","\xDAw\xDA","^-^",":3","x3",";3",":3c"]}),Object.defineProperty(this,"exclamations",{enumerable:!0,configurable:!0,writable:!0,value:["!?","?!!","?!?1","!!11","?!?!"]}),Object.defineProperty(this,"actions",{enumerable:!0,configurable:!0,writable:!0,value:["*blushes*","*whispers to self*","*cries*","*screams*","*sweats*","*twerks*","*runs away*","*screeches*","*walks away*","*looks at you*","*starts twerking*","*huggles tightly*","*boops your nose*"]}),Object.defineProperty(this,"uwuMap",{enumerable:!0,configurable:!0,writable:!0,value:[[/(?:r|l)/g,"w"],[/(?:R|L)/g,"W"],[/n([aeiou])/g,"ny$1"],[/N([aeiou])/g,"Ny$1"],[/N([AEIOU])/g,"Ny$1"],[/ove/g,"uv"]]}),Object.defineProperty(this,"_spacesModifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_wordsModifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_exclamationsModifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._spacesModifier=r??u.SPACES,this._wordsModifier=e??u.WORDS,this._exclamationsModifier=n??u.EXCLAMATIONS}return x(t,[{key:"uwuifyWords",value:function(r){var e=this;return r.split(" ").map(function(n){if(_(n)||M(n))return n;const a=new p(n);for(const[i,o]of e.uwuMap)a.random()>e._wordsModifier||(n=n.replace(i,o));return n}).join(" ")}},{key:"uwuifySpaces",value:function(r){var e=this;const n=r.split(" "),a=this._spacesModifier.faces,i=this._spacesModifier.actions+a,o=this._spacesModifier.stutters+i;return n.map(function(s,O){const d=new p(s),y=d.random(),[f]=s;if(y<=a&&e.faces)s+=" "+e.faces[d.randomInt(0,e.faces.length-1)],S();else if(y<=i&&e.actions)s+=" "+e.actions[d.randomInt(0,e.actions.length-1)],S();else if(y<=o&&!M(s)){const h=d.randomInt(0,2);return(f+"-").repeat(h)+s}function S(){if(f===f.toUpperCase()&&!(P(s)>.5))if(O===0)s=f.toLowerCase()+s.slice(1);else{const h=n[O-1],D=h[h.length-1];if(!new RegExp("[.!?\\-]").test(D))return;s=f.toLowerCase()+s.slice(1)}}return s}).join(" ")}},{key:"uwuifyExclamations",value:function(r){var e=this;const n=r.split(" "),a=new RegExp("[?!]+$");return n.map(function(i){const o=new p(i);return!a.test(i)||o.random()>e._exclamationsModifier||(i=i.replace(a,""),i+=e.exclamations[o.randomInt(0,e.exclamations.length-1)]),i}).join(" ")}},{key:"uwuifySentence",value:function(r){let e=r;return e=this.uwuifyWords(e),e=this.uwuifyExclamations(e),e=this.uwuifySpaces(e),e}}]),t}();w([g()],l.prototype,"_spacesModifier",void 0),w([g()],l.prototype,"_wordsModifier",void 0),w([g()],l.prototype,"_exclamationsModifier",void 0);const{React:m,ReactNative:j}=vendetta.metro.common,{plugin:{storage:c},storage:{useProxy:k},ui:{components:{Forms:N}}}=vendetta,{FormRow:R,FormSection:L,FormSwitch:I}=N,U=vendetta.metro.findByProps("ButtonColors","ButtonLooks","ButtonSizes").default;function $(t,r){let{patches:e,reloadUwuifier:n,startMessageTransfoworming:a}=r;return k(c),m.createElement(j.ScrollView,{style:{flex:1}},[{label:"faces",default:!0,id:"cfg.spaces.faces"},{label:"actions",default:!0,id:"cfg.spaces.actions"},{label:"stutters",default:!0,id:"cfg.spaces.stutters"},{label:"words",default:!0,id:"cfg.words"},{label:"exclamations",default:!1,id:"cfg.exclamations"},{label:"Strength sliders will come when i figure out how to make em"},{id:"reload",style:{height:5,margin:8},name:"Reload uwuifier",onPress:function(){n(c),vendetta.ui.toasts.showToast("Reloaded uwuifier",vendetta.ui.assets.getAssetIDByName("check"))}}].map(function(i){return i?.id==="reload"?m.createElement(U,{style:i.style,text:i.name??"Unnamed",color:"brand",size:"small",disabled:!1,onPress:i.onPress??function(){}}):("id"in i&&!(i.id in c)&&(c[i.id]=i.default),m.createElement(R,{label:i?.label??i?.id??"no name",trailing:"id"in i?m.createElement(I,{value:c[i.id]??i.default,onValueChange:function(o){c[i.id]=o,cfg?.onValueChange?.(o)}}):void 0}))}))}function T(t,r,e){if(!t.name||!t?.description)throw new Error(`No name(${t?.name}) or description(${t?.description}) in the passed command (command name: ${t?.name})`);if(t.displayName??=r?.names?.[e]??t.name,t.displayDescription??=r?.names?.[e]??t.description,t.options){if(!Array.isArray(t.options))throw new Error(`Options is not an array (received: ${typeof t.options})`);for(var n=0;n<t.options.length;n++){const i=t.options[n];if(!i?.name||!i?.description)throw new Error(`No name(${i?.name}) or description(${i?.description} in the option with index ${n}`);if(i.displayName??=r?.options?.[n]?.names?.[e]??i.name,i.displayDescription??=r?.options?.[n]?.descriptions?.[e]??i.description,i?.choices){if(!Array.isArray(i?.choices))throw new Error(`Choices is not an array (received: ${typeof i.choices})`);for(var a=0;a<i.choices.length;a++){const o=i.choices[a];if(!o?.name)throw new Error(`No name of choice with index ${a} in option with index ${n}`);o.displayName??=r?.options?.[n]?.choices?.[a]?.names?.[e]??o.name}}}}return t}let E=new l;reloadUwuifier})();
